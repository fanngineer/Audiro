
# JWT
- 이런 토큰의 유효시간 등을 편하게 해줌
JSON Web Token
- 정보를 JSON 형태로 안전하게 전송하기 위한 웹 표준
- 디지털 서명이 되어 신뢰 가능
- 암호화 알고리즘 사용
- JWT 자체가 필요한 모든 정보를 갖고 있어서 다른 검증 수단이 필요 없다.
- 권한 부여, 정보 교환 등에서 사용
- header.payload.signature로 구성
- header에는 일반적으로 토큰의 유형과 사용중인 암호 알고리즘으로 구성
ex)
```Java
{
	"alg" : "HS256",
	"typ" : "JWT"
}
```
- payload에는 claim을 포함. claim은 사용자 및 추가 데이터를 의미.
ex)
```Java
{
	"sub" : "1234567890",
	"name" : "John Doe",
	"admin" : true
}
```
- signature : 해당 토큰이 조작, 변경되지않음을 확인하는 용도. Header와 Payload의 인코딩 값을 더하고, 비밀 키로 암호화 알고리즘을 통해 해쉬 값을 생성

## 스프링부트 적용
- JWT 의존성 추가 io.jsonwebtoken.jjwt 0.9.1(spring boot에 따라 버전 맞추기) spring security로 가능
- JWT interceptor 파일 생성
	- preHandle > 컨트롤러 오기 이전
	- if(request.getMethod().equals("OPTIONS")) return true;
	- token = request.getHeader(name)
	- if문으로 유효하지 않으면 예외처리
- JWT util(@component) 파일 생성 >> 생성과 검증

- config 파일에서 interceptor 생성
- addInterceptor 메소드 작성
- 전부포함.exclude(/로그인, /swagger-resources/**,/swagger-ui/**, /v2/api-docs)
- 컨트롤러에 주입
- 로그인 메서드에서 통과하면 result에 access-token,id를 담아서 response
